<template name="admin">
  {{> mailinglist}}

  <h1>Itercage admin</h1>

  <div class="form-group">
    <input type="password" class="form-control" id="password" placeholder="Passord" value="{{storedPassword}}">
  </div>

  <div class="form-group">
    <textarea class="form-control" id="invitationText" rows="6">Bli med på cageball?</textarea>
  </div>

  <div class="admin-btn-group">
    <button id="getMailinglist" class="btn btn-info" data-toggle="modal" data-target="#mailinglistModal">Se mailingliste</button>
    <button id="sendInvitations" class="btn btn-success" disabled={{sendingInvitations}}>Send invitasjoner til interne</button>
    <button id="sendInvitationsToExternals" class="btn btn-warning" disabled={{sendingInvitations}}>Send invitasjoner til eksterne</button>
    <button id="clearAttendees" class="btn btn-danger">Slett påmeldingslisten</button>
  </div>

  <br>

  {{> flashMessages}}

  {{> list showRemoveAttendeeButtons="true"}}
</template>

<template name="mailinglist">
  <div class="modal fade" id="mailinglistModal" tabindex="-1" role="dialog" aria-labelledby="mailinglistModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="mailinglistModalLabel">Mailingliste</h4>
        </div>
        <div class="modal-body">
          <ul class="mailinglist">
            {{#each mailinglist}}
              <li class="mailinglist-item">
                <span>
                  {{name}} &lt;{{email}}&gt;
                </span>
                <span class="mailinglist-item-info">
                  {{#if external}}
                    <span class="external-indicator">(ekstern)</span>
                  {{/if}}
                  <a href="#" class="remove-person">Slett</a>
                </span>
              </li>
            {{/each}}
          </ul>
          <br>
          <form class="form-inline" id="newMailingListPerson">
            <div class="form-group">
              <label class="sr-only" for="newMailingListPersonName">Navn</label>
              <input type="text" class="form-control" id="newMailingListPersonName" placeholder="Navn">
            </div>
            <div class="form-group">
              <label class="sr-only" for="newMailingListPersonEmail">Epost</label>
              <input type="email" class="form-control" id="newMailingListPersonEmail" placeholder="Epost">
            </div>
            <div class="form-group">
              <div class="checkbox">
              <label>
                <input type="checkbox" id="newMailingListPersonExternal"> Ekstern
              </label>
            </div>
            </div>
            <button type="submit" class="btn btn-default">Legg til</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</template>
