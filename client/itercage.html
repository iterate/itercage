<template name="default">
  <img src="/logo.png" class="img-responsive logo">

  <p class="subtitle">Cageball Nydalen &mdash; mandager kl. 20:40</p>

  {{> flashMessages}}

  {{#if loading}}
    {{> spinner}}
  {{else}}
    {{> newAttendee}}
    {{> list}}
  {{/if}}
</template>

<template name="newAttendee">
  <form role="form" name="newAttendee" class="new-attendee">
    <div class="attendee-group">
     <input type="text" name="name" class="attendee-input" placeholder="Navn" disabled="{{addingAttendee}}" autofocus="true">
     <button class="submit-attendee" type="submit" disabled="{{addingAttendee}}">Meld meg på</button>
    </div>
  </form>
</template>

<template name="list">
  {{#if numberOfAttendees}}
    <div class="iter-progress">
      <div class="iter-progress-bar iter-{{mode}}" style="width: {{percent}}%">
        <strong>Påmeldte: {{numberOfAttendees}}</strong>
      </div>
    </div>
  {{else}}
    <strong>Det er ingen påmeldte</strong>
  {{/if}}

  <ul class="attendees-list">
  {{#each attendees}}
    <li class="attendees-list-item {{newItem date}}">
      {{#if ../showRemoveAttendeeButtons}}
        <a href="#" class="remove-attendee">Fjern</a>
      {{/if}}

      <span class="name">{{name}}</span>
      <span class="timestamp">{{timestamp date}}</span>
    </li>
  {{/each}}
  </ul>
</template>
